[watcher:rwanda]
cmd = /var/www/html/rwanda/backend/venv/bin/uvicorn --fd $(circus.sockets.rwanda) rwanda.asgi:application --proxy-headers --timeout-keep-alive 60
use_sockets = True
numprocesses = 20

# will push in rwanda.log the stream every 300 ms
stdout_stream.class = FileStream
stdout_stream.filename = /var/log/circus/rwanda.log

# optionally rotate the log file when it reaches 1 gb
# and save 5 copied of rotated files
stdout_stream.max_bytes = 1073741824
stdout_stream.backup_count = 5

[env:rwanda]
PYTHONPATH = /var/www/html/rwanda/backend
DJANGO_SETTINGS_MODULE = rwanda.settings

[socket:rwanda]
host = 127.0.0.1
port = 9000
path = /tmp/circus/rwanda.sock
umask = 777
replace = True